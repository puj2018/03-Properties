<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>minAmber.pl - MMTSB</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/mwiki-mmtsb/opensearch_desc.php" title="MMTSB (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://feig.bch.msu.edu/mwiki-mmtsb/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="/mmtsb/minAmber.pl" />
<link rel="alternate" type="application/atom+xml" title="MMTSB Atom feed" href="/mwiki-mmtsb/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://feig.bch.msu.edu/mwiki-mmtsb/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.mmtsb.styles&amp;only=styles&amp;skin=mmtsb&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/mwiki-mmtsb/skins/MMTSB/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/mwiki-mmtsb/skins/MMTSB/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: mmtsbwiki:resourceloader:filter:minify-css:7:186aa9ed34970b96f0dd1fdd2e763115 */</style>
<script src="http://feig.bch.msu.edu/mwiki-mmtsb/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=mmtsb&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"minAmber.pl","wgTitle":"minAmber.pl","wgCurRevisionId":114612,"wgRevisionId":114612,"wgArticleId":1382,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"minAmber.pl","wgRelevantArticleId":1382,"wgIsProbablyEditable":false,"wgRestrictionEdit":["sysop"],"wgRestrictionMove":["sysop"]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: mmtsbwiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-minAmber_pl skin-mmtsb action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
			        <TABLE CLASS="header" CELLPADDING=4 WIDTH=100%><TR><TD VALIGN=top>
				<a href="http://mmtsb.chem.lsa.umich.edu"><img src="/mwiki-mmtsb/skins/MMTSB/mmtsblogo-blue.gif" alt="MMTSB" /></a>
				</TD>
				<TD>
				<TABLE CELLPADDING=2 CLASS="header">
				<TR><TD CLASS="toolsettitle" WIDTH=100% ALIGN=right>
				  Tool Set Documentation
		    	        </TD></TR>
				<TR><TD CLASS="searcharea" WIDTH=100% ALIGN=right>
						<div id="p-search" class="portlet" role="search">
			<!--<h3><label for="searchInput">Search</label></h3>-->

			<div id="searchBody" class="pBody">
				<form action="/mwiki-mmtsb/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search MMTSB [f]" accesskey="f" id="searchInput" />
<!--					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />-->
				</form>

							</div>
		</div>
					</TD></TR></TABLE>	
				</TD></TR></TABLE>	

				<div id="navarea">
   						<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<!--<h3>Navigation</h3>-->
		<div class='pBody'>
							<ul>
											<li id="n-Main"><a href="/mmtsb/Main_Page">Main</a></li>
											<li id="n-MMTSB-Research-Resource"><a href="http://www.mmtsb.org" rel="nofollow">MMTSB Research Resource</a></li>
											<li id="n-Forum"><a href="http://www.charmm.org/ubbthreads/postlist.php?Cat=0&amp;Board=MMTSB" rel="nofollow">Forum</a></li>
											<li id="n-Workshops"><a href="http://www.mmtsb.org/workshops.html" rel="nofollow">Workshops</a></li>
											<li id="n-Download"><a href="http://www.mmtsb.org/cgi-bin/download?toolset" rel="nofollow">download</a></li>
											<li id="n-Installation"><a href="/mmtsb/Installation">Installation</a></li>
									</ul>
					</div>
		</div>
					</div>
   		                                      <div id="content">
				
				<a id="top"></a>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">minAmber.pl</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From MMTSB</div>
					<div id="contentSub"></div>
					<!--					-->
					<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><h2><span class="mw-headline" id="Usage">Usage</span></h2>
<pre>usage:   minAmber.pl [options] PDBfile
options: [-par <A HREF="http://feig.bch.msu.edu/mmtsb/Amber_Parameters">Amberparams</A>]
         [-l [ca|cb|cab|heavy] force refpdb min:max[=...]]
         [-cons [ca|cb|cab|heavy] refpdb min:max[_force][=...]]
         [-log logFile] [-elog energyLogFile]
         [-[no]translate]
</pre><A HREF="http://feig.bch.msu.edu/cgi-bin/mmtsb-source?minAmber.pl" TARGET=_new>Show source</A>
<p><br />
</p>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>This script is used to minimize a protein structure from a PDB file with
Amber. Without any options a 50-step steepest descent minimization
is followed by the a conjugate gradient minimization algorithm over 500
steps or until the energy decrease between steps becomes less than
1.0E-5 kcal/mol. With the default protocol the minimization is carried in
vacuum (constant dielectric of 1.0) with a 14.0 &#197; cutoff for non-bonded interactions.<br />
</p><p>Command-line options are available to change the default protocol, introduce
restraints and specify output files.<br />
</p><p>Minimization parameters can be set with <b>-par</b> followed by key=value pairs.
A complete list of parameters is available
<a rel="nofollow" class="external text" href="http://feig.bch.msu.edu/mmtsb/Amber_Parameters">here</a>.
The most relevant options are explained in the following:
The number of steps in the final conjugate gradient minimization run is set
with <b>minsteps</b>, a different energy tolerance is selected with
<b>minetol</b>. The number of steps during the initial steepest descent
minimization is changed with <b>sdsteps</b>.
The type of dielectric environment can be set as constant with <b>dielec=cdie</b> or
distance dependent with <b>dielec=rdie</b>. The value of epsilon can be changed
using <b>epsilon</b>. The non-bonded cutoff radius is set with <b>cutoff</b> or
switched off completely with <b>nocut</b>.
The <b>hsd</b> and <b>hse</b> parameters are available to specify explicitly
the protonation site for histidine residues. By default HSD is assumed
(protonated at ND1).<br />
</p><p>By default, the PARAM94 force field is used. Other Amber force fields may be
selected with <b>-param</b>. More information on differences between these force fields
is available from the <a rel="nofollow" class="external text" href="http://ambermd.org">Amber web site</a>.<br />
</p><p>More realistic than constant or distance-dependent dielectrics but less expensive than
explicit solvent is an implicit solvent approximation based on a generalized Born (GB)
formalism. This function is available with the <b>gb</b> switch of the <b>-par</b>
option. It needs to be set to one of the methods implemented in Amber. Possible options
are: <font color="#508060">tc</font>: Tsui &amp; Case, <font color="#508060">tc6</font> Tsui &amp; Case (original radii),
<font color="#508060">obc</font>: Onufriev, Bashford, Case, <font color="#508060">jsb</font>: Jayaram, Sprous, Beveridge,
<font color="#508060">mgb</font>: modified Jayaram, Sprous, Beveridge. Again, more information is available
on the Amber web site.<br /><br />
Different types of restraints may be specified to keep parts of the structure
near their initial positions or near coordinates from a reference file. This is
useful for modeling of fragments or loops in otherwise known structure templates.
Atom-based restraints are specified with <b>-cons</b> or <b>-l</b>.
<b>-cons</b> requires a list of residue ranges where the restraints should be
applied and corresponding force constants. By default all heavy atoms will be
restrained to their initial positions. The keywords <font color="#508060">ca</font>,
<font color="#508060">cb</font>, or <font color="#508060">cab</font> can be specified to select only C-alpha, C-beta,
or C-alpha/C-beta restraints, respectively. If a file name is given, the reference
atom positions from this file are used instead of the initial coordinates from the
input file.<br />
</p><p>In loop modeling it is more convenient to specify the residues in the
loop rather than the residues outside the loop for which restraints would be requested.
The option <b>-l</b> is available to specify a range of residues that are kept
<i>flexible</i>, while restraints are generated implicitly for all other residues
<i>outside</i> the given residue range(s). The syntax is otherwise similar to
<b>-cons</b>. However, only a single force constant can be
supplied as an extra argument. The restraints are generated with continuously
increasing force constants from the beginning and ends of the loop regions up to
the specified force constant in a similar fashion as the force constants generated by
<a href="/mmtsb/genrestr.pl" title="genrestr.pl">genrestr.pl</a> for lattice simulations.<br />
</p><p>The final structure after minimization is written to standard output if
input is read from standard input or to a file name derived from the input
file name by adding <font color="#508060">min</font>. An alternate output
file name can be specified with <b>-out</b>.<br />
</p><p>The options <b>-log</b> and <b>-elog</b> are available to save the complete
output from Amber or only the energy values at each printed minimization
step, respectively<br />
</p><p>The location of the Amber binary and data directory are expected
from the environment variables AMBERHOME, SANDEREXEC and LEAPEXEC. At least
AMBERHOME should be set accordingly. Otherwise an
attempt is made to locate the Amber binary from the search path and deduce the data
directory from the binary location. The current version of this utility expects
Amber 7 for full functionality.<br />
</p><p>A similar script <a href="/mmtsb/minCHARMM.pl" title="minCHARMM.pl">minCHARMM.pl</a> is available for minimizations
using CHARMM.
</p>
<h2><span class="mw-headline" id="Options">Options</span></h2>
<dl><dt> -help&#160;</dt>
<dd> usage information</dd>
<dt> -par key=value[,...]&#160;</dt>
<dd> Amber simulation paramters</dd>
<dt> -l [ca|cb|cab|heavy] force refpdb min&#58;max[=...]&#160;</dt>
<dd> restrain residues outside the specified residue range</dd>
<dt> -cons [ca|cb|cab|heavy] refpdb min</dt>
<dd>max[_force][=...]&#160;: restrain residue within the specified residue range</dd>
<dt> -log file&#160;</dt>
<dd> Amber log file</dd>
<dt> -elog file&#160;</dt>
<dd> Amber energy log file</dd>
<dt> -[no]translate&#160;</dt>
<dd> (do not) translate input PDB structure</dd></dl>
<h2><span class="mw-headline" id="Examples">Examples</span></h2>
<p><tt><FONT COLOR=#702050>minAmber.pl 1vii.exp.pdb
</font></tt><br>
performs a minimization in vacuum over 500 steps and writes the minimized structure
to standard output
<br>
</p>
<pre>ATOM      1  N   MET     1       1.329 -10.663  -3.566  1.00  0.00          
ATOM      2  H1  MET     1       0.602 -11.369  -3.644  1.00  0.00          
ATOM      3  H2  MET     1       1.978 -10.977  -2.851  1.00  0.00          
ATOM      4  H3  MET     1       1.811 -10.563  -4.453  1.00  0.00          
ATOM      5  CA  MET     1       0.704  -9.385  -3.145  1.00  0.00          
ATOM      6  HA  MET     1       1.476  -8.666  -2.865  1.00  0.00          
ATOM      7  CB  MET     1      -0.202  -8.774  -4.234  1.00  0.00          
ATOM      8  HB2 MET     1      -0.870  -9.538  -4.638  1.00  0.00          
ATOM      9  HB3 MET     1      -0.827  -8.013  -3.767  1.00  0.00          
ATOM     10  CG  MET     1       0.565  -8.093  -5.371  1.00  0.00          

...</pre>
<p><br />
<tt><FONT COLOR=#702050>minAmber.pl -par gb,minsteps=300,minetol=1E-3,nocut -log amber.log -elog ener.log 1vii.exp.pdb
</font></tt><br>
performs minimization of the given PDB structure with Generalize Born-type implicit solvent over
300 steps or until an energy tolerance of 0.001 is reached. Also, effectively no cutoffs
are used for non-bonded interactions. In addition to the minimized structure written to
standard output, Amber output is written to <FONT COLOR=#508060>amber.log</FONT> and a log of relevant
energy terms, extracted from the Amber output, is written to <FONT COLOR=#508060>ener.log</FONT>.
<br>
</p>
<pre>ATOM      1  N   MET     1       1.449  -9.958  -3.767  1.00  0.00          
ATOM      2  H1  MET     1       1.022 -10.874  -3.747  1.00  0.00          
ATOM      3  H2  MET     1       2.156  -9.924  -3.048  1.00  0.00          
ATOM      4  H3  MET     1       1.894  -9.827  -4.664  1.00  0.00          
ATOM      5  CA  MET     1       0.417  -8.916  -3.530  1.00  0.00          
ATOM      6  HA  MET     1       0.903  -7.941  -3.463  1.00  0.00          
ATOM      7  CB  MET     1      -0.619  -8.871  -4.668  1.00  0.00          
ATOM      8  HB2 MET     1      -0.907  -9.891  -4.929  1.00  0.00          
ATOM      9  HB3 MET     1      -1.516  -8.351  -4.326  1.00  0.00          
ATOM     10  CG  MET     1      -0.111  -8.139  -5.917  1.00  0.00          

...</pre>
<p><br />
<tt><FONT COLOR=#702050>minAmber.pl -par minsteps=300,sdsteps=20,dielec=rdie,epsilon=4.0 -cons ca self 1:36_0.5 -elog ener.log 1vii.exp.pdb
</font></tt><br>
performs a vacuum minimization of the given PDB structure over 300 steps with 20 steps of initial steepest descent 
minimization. A distance dependent dielectric with epsilon=4 are used.
During the minimization C-alpha atoms of all residues (1 through 36) are restrained to their
initial position with a force constant of 0.5 kcal/mol. The energies are written out to
<FONT COLOR=#508060>ener.log</FONT>.
<br>
</p>
<pre>ATOM      1  N   MET     1       1.449 -10.044  -3.680  1.00  0.00          
ATOM      2  H1  MET     1       1.116 -10.909  -3.281  1.00  0.00          
ATOM      3  H2  MET     1       2.315  -9.784  -3.232  1.00  0.00          
ATOM      4  H3  MET     1       1.602 -10.168  -4.667  1.00  0.00          
ATOM      5  CA  MET     1       0.439  -8.989  -3.463  1.00  0.00          
ATOM      6  HA  MET     1       0.943  -8.030  -3.360  1.00  0.00          
ATOM      7  CB  MET     1      -0.538  -8.893  -4.644  1.00  0.00          
ATOM      8  HB2 MET     1      -0.835  -9.898  -4.947  1.00  0.00          
ATOM      9  HB3 MET     1      -1.438  -8.352  -4.336  1.00  0.00          
ATOM     10  CG  MET     1       0.078  -8.147  -5.833  1.00  0.00          

...</pre>
<p><br />
<tt><FONT COLOR=#702050>minAmber.pl -par gb,minsteps=1000,cutoff=22 -l ca 1.5 1vii.exp.pdb 10:21 -elog ener.log 1vii.rebuilt.10:21.pdb
</font></tt><br>
minimizes the structure from the input PDB file with Generalized Born implicit solvent
using an interaction cutoff of 22 A. C-alpha atoms outside of residues 10 
through 21  are restrained to the position in the reference PDB structure 
<FONT COLOR=#508060>1vii.exp.pdb</FONT>. This example shows typical usage for fragment 
modeling where part of the protein structure is modeled against a fixed template
structure.
<br>
</p>
<pre>ATOM      1  N   MET     1       1.328 -10.043  -3.927  1.00  0.00          
ATOM      2  H1  MET     1       0.849 -10.935  -3.987  1.00  0.00          
ATOM      3  H2  MET     1       2.016 -10.090  -3.194  1.00  0.00          
ATOM      4  H3  MET     1       1.790  -9.846  -4.803  1.00  0.00          
ATOM      5  CA  MET     1       0.348  -8.959  -3.613  1.00  0.00          
ATOM      6  HA  MET     1       0.870  -8.004  -3.526  1.00  0.00          
ATOM      7  CB  MET     1      -0.738  -8.795  -4.700  1.00  0.00          
ATOM      8  HB2 MET     1      -1.207  -9.761  -4.935  1.00  0.00          
ATOM      9  HB3 MET     1      -1.533  -8.117  -4.349  1.00  0.00          
ATOM     10  CG  MET     1      -0.192  -8.189  -5.997  1.00  0.00          

...</pre>

<!-- 
NewPP limit report
CPU time usage: 0.062 seconds
Real time usage: 0.482 seconds
Preprocessor visited node count: 45/1000000
Preprocessor generated node count: 138/1000000
Postâ€expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://feig.bch.msu.edu/mwiki-mmtsb/index.php?title=minAmber.pl&amp;oldid=114612">http://feig.bch.msu.edu/mwiki-mmtsb/index.php?title=minAmber.pl&amp;oldid=114612</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
				</div>
			</div>
		</div>
		
		<div id="editarea">
				<div id="p-cactions" class="portlet" role="navigation">
			<!--<h3>Views</h3>-->

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="/mmtsb/minAmber.pl" title="View the content page [c]" accesskey="c">Documentation</a></li>
				<li id="ca-talk" class="new"><a href="/mwiki-mmtsb/index.php?title=Talk:minAmber.pl&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Comments</a></li>
				<li id="ca-viewsource"><a href="/mwiki-mmtsb/index.php?title=minAmber.pl&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="/mwiki-mmtsb/index.php?title=minAmber.pl&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
			</div>

		<div class="visualClear"></div>
		
	      <TABLE CLASS="footer" CELLSPACING=4 WIDTH=100%>
              <TR><TD CLASS="groups">
              <A HREF="http://brooks.chem.lsa.umich.edu">&nbsp;Brooks group</A><BR>
              <A HREF="http://feig.bch.msu.edu">&nbsp;Feig group</A>
	      </TD>
	      <TD CLASS="pageinfo">
	        <ul>

<!--
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="//www.mediawiki.org/"><img src="/mwiki-mmtsb/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/mwiki-mmtsb/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /mwiki-mmtsb/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
							</div>
		</div>		-->
                </ul>
		</TD>
		</TR></TABLE>

		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"ready","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":1974});
}</script></body></html>
