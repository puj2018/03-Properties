<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>hlamc.pl - MMTSB</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/mwiki-mmtsb/opensearch_desc.php" title="MMTSB (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://feig.bch.msu.edu/mwiki-mmtsb/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="/mmtsb/hlamc.pl" />
<link rel="alternate" type="application/atom+xml" title="MMTSB Atom feed" href="/mwiki-mmtsb/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://feig.bch.msu.edu/mwiki-mmtsb/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.mmtsb.styles&amp;only=styles&amp;skin=mmtsb&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/mwiki-mmtsb/skins/MMTSB/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/mwiki-mmtsb/skins/MMTSB/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: mmtsbwiki:resourceloader:filter:minify-css:7:186aa9ed34970b96f0dd1fdd2e763115 */</style>
<script src="http://feig.bch.msu.edu/mwiki-mmtsb/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=mmtsb&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"hlamc.pl","wgTitle":"hlamc.pl","wgCurRevisionId":114398,"wgRevisionId":114398,"wgArticleId":1393,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"hlamc.pl","wgRelevantArticleId":1393,"wgIsProbablyEditable":false,"wgRestrictionEdit":["sysop"],"wgRestrictionMove":["sysop"]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: mmtsbwiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-hlamc_pl skin-mmtsb action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
			        <TABLE CLASS="header" CELLPADDING=4 WIDTH=100%><TR><TD VALIGN=top>
				<a href="http://mmtsb.chem.lsa.umich.edu"><img src="/mwiki-mmtsb/skins/MMTSB/mmtsblogo-blue.gif" alt="MMTSB" /></a>
				</TD>
				<TD>
				<TABLE CELLPADDING=2 CLASS="header">
				<TR><TD CLASS="toolsettitle" WIDTH=100% ALIGN=right>
				  Tool Set Documentation
		    	        </TD></TR>
				<TR><TD CLASS="searcharea" WIDTH=100% ALIGN=right>
						<div id="p-search" class="portlet" role="search">
			<!--<h3><label for="searchInput">Search</label></h3>-->

			<div id="searchBody" class="pBody">
				<form action="/mwiki-mmtsb/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search MMTSB [f]" accesskey="f" id="searchInput" />
<!--					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />-->
				</form>

							</div>
		</div>
					</TD></TR></TABLE>	
				</TD></TR></TABLE>	

				<div id="navarea">
   						<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<!--<h3>Navigation</h3>-->
		<div class='pBody'>
							<ul>
											<li id="n-Main"><a href="/mmtsb/Main_Page">Main</a></li>
											<li id="n-MMTSB-Research-Resource"><a href="http://www.mmtsb.org" rel="nofollow">MMTSB Research Resource</a></li>
											<li id="n-Forum"><a href="http://www.charmm.org/ubbthreads/postlist.php?Cat=0&amp;Board=MMTSB" rel="nofollow">Forum</a></li>
											<li id="n-Workshops"><a href="http://www.mmtsb.org/workshops.html" rel="nofollow">Workshops</a></li>
											<li id="n-Download"><a href="http://www.mmtsb.org/cgi-bin/download?toolset" rel="nofollow">download</a></li>
											<li id="n-Installation"><a href="/mmtsb/Installation">Installation</a></li>
									</ul>
					</div>
		</div>
					</div>
   		                                      <div id="content">
				
				<a id="top"></a>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">hlamc.pl</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From MMTSB</div>
					<div id="contentSub"></div>
					<!--					-->
					<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><h2><span class="mw-headline" id="Usage">Usage</span></h2>
<pre>usage:    hlamc.pl [options] PDBfile
options:  [-n runs]
          [-seq file]
          [-par mctemp=value,mode=coupled|free,
                [no]keepchain,[no]eval,
                caforce=value,hmcmforce=value]
          [-latpar ncycle=value,icycle=value,temp=value]
          [-aapar <A HREF="http://feig.bch.msu.edu/mmtsb/CHARMM_Parameters">CHARMMparams</A>]
          [-evalpar <A HREF="http://feig.bch.msu.edu/mmtsb/CHARMM_Parameters">CHARMMparams</A>]
          [-dir name]
          [-enstag name]
          [-log file]
          [-evallog file] [-aalog file]
</pre><A HREF="http://feig.bch.msu.edu/cgi-bin/mmtsb-source?hlamc.pl" TARGET=_new>Show source</A>
<p><br />
</p>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>This utility is used for running single hybrid lattice/all-atom simulations. A replica exchange version <a href="/mmtsb/hlamcrex.pl" title="hlamcrex.pl">hlamcrex.pl</a> is also available.<br />
</p><p>Two Monte Carlo simulation schemes are available for hybrid simulations that combine lattice and all-atom models.
In both modes lattice models are effectively simulated on an all-atom surface combining the advantages of
reduced lattice models with a more accurate all-atom potential energy function.<br />
</p><p>In the first mode, called the "free" mode, a Monte Carlo simulation cycle consists of a lattice simulation and all-atom
reconstruction of the final lattice chain followed by all-atom minimization and molecular dynamics. The all-atom energy at the end of each cycle is used for accepting or rejecting conformations according to Metropolis criteria.<br />
</p><p>In the second mode, called "coupled", lattice and all-atom simulations are more tightly coupled. Here, final conformations from very short lattice simulations are used for generating side chain center of mass restraints in continuous all-atom minimization or molecular dynamics runs. As in the first mode, all-atom energies are used for accepting or rejecting conformations in a Monte
Carlo scheme. The advantage of the second method is that the all-atom structures remain mostly
relaxed throughout the simulation while following the guiding restraints from the lattice simulations.
However, one faces the same barriers due to steric hindrance as in conventional all-atom simulations
that are easily overcome with the reduced lattice model in the first mode.<br />
</p><p>The default mode is "free". It can be selected with the <font color="#508060">mode</font> keyword of the <b>-par</b> option.
Other parameters are the Metropolis 'temperature' in units of kcal/mol that is set with <font color="#508060">mctemp</font>,
the force constant that is used for C-alpha restraints in the all-atom part during the "free" mode,
the force constant used in the "coupled" mode for side chain center restraints,
and two additional options <font color="#508060">[no]keepchain</font> and <font color="#508060">[no]eval</font>. The first one sets whether lattice simulations
are continued from the final chain of the previous lattice run (<font color="#508060">keepchain</font>, default)
or from a chain generated at the end of the all-atom simulation section (<font color="#508060">nokeepchain</font>).
The second option controls whether a separate instance of CHARMM is used for evaluating all-atom energies at
the end of the simulation cycle(<font color="#508060">eval</font> vs. <font color="#508060">noeval</font>). This is useful when a different,
more costly function, e.g. using an implicit solvation term, should be used for evaluating energies while
a simple vacuum energy function may be sufficient for restrained all-atom minimizations and short molecular dynamics
runs. The number of total Monte Carlo cycles is set with <b>-n</b>.<br />
</p><p>Lattice simulations require a MONSSTER sequence file as input with <b>-seq</b>. Other lattice simulation
parameters such as the number of lattice simulation Monte Carlo cycles, the internal temperature or
potential component scaling factors as listed in <a href="/mmtsb/geninput.pl" title="geninput.pl">geninput.pl</a> are given with <b>-latpar</b>.<br />
All-atom simulation parameters are set with <b>-aapar</b>. The complete list of possible parameters is
given <a rel="nofollow" class="external text" href="http://feig.bch.msu.edu/mmtsb/CHARMM_Parameters">here</a>. Minimization runs are
performed if <font color="#508060">sdsteps</font> and/or <font color="#508060">minsteps</font> are set to non-zero values. Molecular dynamics
is turned off by default but will be performed if <font color="#508060">dynsteps</font> is set. Parameters for a separate
energy evaluation are set with <b>-evalpar</b>.<br />
</p><p>All output is written to the current directory unless a different directory is specified with <b>-dir</b>.
Structures that are accepted at the end of a Monte Carlo cycle are saved into an ensemble under the same
directory. The tag that is used can be set with <b>-enstag</b>.<br />
</p><p>Log files for the all-atom simulation part, all-atom evaluation, and overall hybrid sampling are generated
if the options <b>-aalog</b>, <b>-evallog</b>, or <b>-log</b> are used.<br />
</p>
<h2><span class="mw-headline" id="Options">Options</span></h2>
<dl><dt> -help&#160;</dt>
<dd> usage information</dd>
<dt> -n runs&#160;</dt>
<dd> number of cycles</dd>
<dt> -seq file&#160;</dt>
<dd> MONSSTER sequence file</dd>
<dt> -par name=value[,...]&#160;</dt>
<dd> overall simulation parameters</dd>
<dt> -latpar name=value[,...]&#160;</dt>
<dd> MONSSTER lattice simulation parameters</dd>
<dt> -aapar name=value[,...]&#160;</dt>
<dd> CHARMM all-atom simulation parameters</dd>
<dt> -evalpar name=value[,...]&#160;</dt>
<dd> CHARMM energy evaluation parameters</dd>
<dt> -dir name&#160;</dt>
<dd> output directory name</dd>
<dt> -enstag name&#160;</dt>
<dd> tag for ensemble</dd>
<dt> -log file&#160;</dt>
<dd> log file name</dd>
<dt> -evallog file&#160;</dt>
<dd> CHARMM log file name for energy evaluation</dd>
<dt> -aalog file&#160;</dt>
<dd> CHARMM log file name for all-atom simulation</dd></dl>
<h2><span class="mw-headline" id="Examples">Examples</span></h2>
<p><tt><FONT COLOR=#702050>hlamc.pl -n 10 -dir data -seq 1vii.seq -par mctemp=30,mode=free,noeval -latpar ncycle=2,temp=1.2 -aapar dielec=rdie,epsilon=4.0,sdsteps=20,minsteps=100 -aalog aa.log -log - 1vii.exp.min.pdb
</font></tt><br>
runs hybrid lattice sampling on an all-atom energy surface. The lattice simulations are run at a temperature of 1.2 internal units for 2 MC cycles. 
All-atom structures are then rebuild and minimized with a distance-dependent dielectric. No separate copy of CHARMM is run for energy evaluation. 
The Monte Carlo temperature is set to 30.0. A log file is produced for the all-atom minimization runs and hybrid sampling output is written
to standard output.
<br>
</p>
<pre>## hlamc ##  mcRun 1 etrial: 134.622850 accepted
## hlamc ##  mcRun 2 etrial: 169.625670 rejected
## hlamc ##  mcRun 3 etrial: 118.470870 accepted
## hlamc ##  mcRun 4 etrial: 198.314910 rejected
## hlamc ##  mcRun 5 etrial: 171.513970 rejected
## hlamc ##  mcRun 6 etrial: 200.561280 rejected
## hlamc ##  mcRun 7 etrial: 163.765020 rejected
## hlamc ##  mcRun 8 etrial: 177.650390 rejected
## hlamc ##  mcRun 9 etrial: 203.281110 rejected
## hlamc ##  mcRun 10 etrial: 193.945440 rejected
</pre>
<p><br />
<tt><FONT COLOR=#702050>hlamc.pl -n 10 -dir data -seq 1vii.seq -par mctemp=2,mode=coupled,nokeepchain -latpar ncycle=2,temp=1.2 -aapar dynsteps=500,dielec=rdie,epsilon=4.0,sdsteps=20,minsteps=100 -evalpar gb,nocut -evallog eval.log -aalog aa.log -log - 1vii.exp.min.pdb
</font></tt><br>
runs coupled-mode hybrid lattice/all-atom sampling for 10 cycles in the directory
<FONT COLOR=#508060>data</FONT>. The lattice simulations are run at an internal
temperature of 1.2 for 2 MC cycles. The all-atom part consists of 20 steps
steepest descent minimization starting from the rebuild lattice chain
followed by 100 steps adopted-basis Newton-Raphson (default) minimization
and 500 steps of molecular dynamics, all with a distance dependent 
dielectric and an epsilon value of 4. At the end of each run the energies
are evaluated with a Generalized Born term and no cutoffs.
The evaluation temperature for the Monte Carlo step is set to 2.
Log files are produced for the all-atom simulation and the all-atom
energy evaluation. Progress information of the hybrid sampling is written 
to standard output.
<br>
</p>
<pre>## hlamc ##  mcRun 1 etrial: -1114.734410 accepted
## hlamc ##  mcRun 2 etrial: -1105.549000 rejected
## hlamc ##  mcRun 3 etrial: -1111.145280 rejected
## hlamc ##  mcRun 4 etrial: -1114.198550 rejected
## hlamc ##  mcRun 5 etrial: -1104.192360 rejected
## hlamc ##  mcRun 6 etrial: -1107.517300 rejected
## hlamc ##  mcRun 7 etrial: -1093.655610 rejected
## hlamc ##  mcRun 8 etrial: -1106.020790 rejected
## hlamc ##  mcRun 9 etrial: -1107.190930 rejected
## hlamc ##  mcRun 10 etrial: -1105.878440 rejected
</pre>

<!-- 
NewPP limit report
CPU time usage: 0.052 seconds
Real time usage: 0.546 seconds
Preprocessor visited node count: 41/1000000
Preprocessor generated node count: 102/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://feig.bch.msu.edu/mwiki-mmtsb/index.php?title=hlamc.pl&amp;oldid=114398">http://feig.bch.msu.edu/mwiki-mmtsb/index.php?title=hlamc.pl&amp;oldid=114398</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
				</div>
			</div>
		</div>
		
		<div id="editarea">
				<div id="p-cactions" class="portlet" role="navigation">
			<!--<h3>Views</h3>-->

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="/mmtsb/hlamc.pl" title="View the content page [c]" accesskey="c">Documentation</a></li>
				<li id="ca-talk" class="new"><a href="/mwiki-mmtsb/index.php?title=Talk:hlamc.pl&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Comments</a></li>
				<li id="ca-viewsource"><a href="/mwiki-mmtsb/index.php?title=hlamc.pl&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="/mwiki-mmtsb/index.php?title=hlamc.pl&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
			</div>

		<div class="visualClear"></div>
		
	      <TABLE CLASS="footer" CELLSPACING=4 WIDTH=100%>
              <TR><TD CLASS="groups">
              <A HREF="http://brooks.chem.lsa.umich.edu">&nbsp;Brooks group</A><BR>
              <A HREF="http://feig.bch.msu.edu">&nbsp;Feig group</A>
	      </TD>
	      <TD CLASS="pageinfo">
	        <ul>

<!--
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="//www.mediawiki.org/"><img src="/mwiki-mmtsb/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/mwiki-mmtsb/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /mwiki-mmtsb/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
							</div>
		</div>		-->
                </ul>
		</TD>
		</TR></TABLE>

		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"ready","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":2042});
}</script></body></html>
